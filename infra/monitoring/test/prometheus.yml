global:
  # 스크랩에 시간을 15s로 설정한다.
  scrape_interval: 15s
  # 내가 원하는 특정 작업을 15s로 설정한다.
  evaluation_interval: 15s

# prometheus가 http로 /metrics를 긁어오는 행위를 말한다.
scrape_configs:
  # target들을 수집 목적/성격 으로 묶은 그룹을 말한다. 
  - job_name: main_backend
    metrics_path: /api/metrics # backend에서 metrics에서 긁어오는 엔드포인트
    static_configs:
      # 긁어올 주소:포트 한개를 말한다.
      - targets: ["localhost:8080"]

  # main_backend와 비슷하다.
  - job_name: tool_backend
    metrics_path: /tool/metrics # backend에서 metrics에서 긁어오는 엔드포인트
    static_configs:
      # 긁어올 주소:포트 한개를 말한다.
      - targets: ["localhost:8000"]

  # node 서버 외부에서 메트릭을 긁어오기 위해 있는 metrics
  - job_name: node-exporter
    static_configs:
      - targets: ["node-exporter:9100"]

  # docker 등 컨테이너의 메트릭 정보를 긁어오기 위해 필요한 metrics
  - job_name: cadvisor
    static_configs:
      - targets: ["cadvisor:8080"]